<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>4.6 Caching</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div id="app"></div>

    <script type="module">
      import ui from "/ui.js";

      ui.app("Caching (Read-through + TTL)")
        .blurb("Summary is cached for 5s. Add events to invalidate.")
        .section("Add event")
          .action("Add event")
            .post("/events")
            .field("amount", 25, "number")
            .refreshAll()
            .end()
          .action("Clear cache")
            .post("/cache/clear")
            .refreshAll()
            .end()
          .end()
      .section("Summary")
        .read("/summary")
        .store({ summary: "data" })
        .auto("summary")
        .action("Refresh summary")
          .get("/summary")
          .store({ summary: "data" })
          .refreshAll()
          .end()
        .end()
        .section("Events")
          .read("/events")
          .list("#{{id}} amount={{amount}}")
          .end()
        ;
    </script>
  </body>
</html>
